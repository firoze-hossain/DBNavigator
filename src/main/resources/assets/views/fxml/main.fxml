<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import org.fxmisc.richtext.CodeArea?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.roze.dbnavigator.controllers.MainController"
            styleClass="main-pane">

    <top>
        <HBox styleClass="title-bar" alignment="CENTER_LEFT">
            <Label text="DBNavigator" styleClass="title-text" />
            <Region HBox.hgrow="ALWAYS" />
            <Button styleClass="window-control minimize" text="_" onAction="#minimizeWindow" />
            <Button styleClass="window-control maximize" text="â–¡" onAction="#maximizeWindow" />
            <Button styleClass="window-control close" text="X" onAction="#closeWindow" />
        </HBox>
    </top>

    <center>
        <SplitPane dividerPositions="0.2" styleClass="main-split">
            <!-- Left Sidebar -->
            <VBox styleClass="sidebar" spacing="10">
                <!-- Connection Selector -->
                <HBox styleClass="connection-selector" spacing="5">
                    <ComboBox fx:id="connectionCombo" styleClass="connection-combo" />
                    <Button styleClass="icon-button" text="+" onAction="#showConnectionDialog" />
                </HBox>

                <!-- Schema Browser -->
                <Accordion styleClass="schema-accordion">
                    <panes>
                        <TitledPane text="Database" styleClass="schema-pane" expanded="true">
                            <content>
                                <TreeView fx:id="schemaTree" styleClass="schema-tree" />
                            </content>
                        </TitledPane>
                        <TitledPane text="Saved Queries" styleClass="schema-pane">
                            <content>
                                <ListView fx:id="savedQueries" styleClass="saved-queries" />
                            </content>
                        </TitledPane>
                    </panes>
                </Accordion>
            </VBox>

            <!-- Main Content Area -->
            <TabPane fx:id="mainTabPane" styleClass="main-tabs">
                <tabs>
                    <Tab text="Query 1" styleClass="query-tab">
                        <content>
                            <VBox>
                                <CodeArea fx:id="sqlEditor" styleClass="sql-editor" />
                                <TableView fx:id="resultTable" styleClass="result-table" />
                            </VBox>
                        </content>
                    </Tab>
                </tabs>
            </TabPane>
        </SplitPane>
    </center>

    <bottom>
        <HBox styleClass="status-bar" alignment="CENTER_LEFT" spacing="10">
            <Label fx:id="connectionStatus" styleClass="connection-status connection-status-neutral"  />
            <Separator orientation="VERTICAL" />
            <Label fx:id="executionTimeLabel" text="Ready" />
        </HBox>
    </bottom>
</BorderPane>